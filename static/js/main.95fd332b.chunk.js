(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),i=(n(15),n(16),n(17),n(1)),s=n(3),u=n.n(s),f=n(6),d=n(2),l=n(7),v=n.n(l),m=void 0,h=function(e){var t=e.onRef,n=e.hide,o=Object(d.a)(e,["onRef","hide"]),c=Object(a.useRef)(),s=Object(a.useState)(!1),l=Object(i.a)(s,2),h=l[0],b=l[1],g=function(){var e=Object(f.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=4;break}throw t="Browser API navigator.mediaDevices.getUserMedia not available",m.setState({error_messages:t}),t;case 4:c.current.video.onloadedmetadata=function(){b(!0)};case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){g()},[c]),h&&t&&t(c),r.a.createElement(v.a,Object.assign({audio:!1,ref:c,screenshotFormat:"image/jpeg",style:{display:n?"none":"block"}},o))},b=function(e){var t=e.onContext,n=e.contextType,o=void 0===n?"2d":n,c=e.mirrored,i=Object(d.a)(e,["onContext","contextType","mirrored"]),s=Object(a.useRef)();return Object(a.useEffect)(function(){if(s&&t){var e=s.current.getContext(o);t(e)}},[s]),r.a.createElement("canvas",Object.assign({},i,{style:{transform:c?"scale(-1,1)":"scale(1)"},ref:s}))},g=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])},p=n(8),w=n.n(p),j=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),s=Object(i.a)(c,2),u=s[0],f=s[1];return g(function(){n&&requestAnimationFrame(function(){return function(e,t){function n(e,t,n){return void 0===t&&(t=e),void 0===n&&(n=e),"rgb("+a(Math.round(e),0,255)+", "+a(Math.round(t),0,255)+", "+a(Math.round(n),0,255)+")"}function a(e,t,n){return Math.min(Math.max(e,Math.min(t,n)),Math.max(t,n))}var r=e.current.video,o=window.innerWidth,c=window.innerHeight;o=640,c=480,u.canvas.height=c,u.canvas.width=o,u.drawImage(r,0,0,o,c);for(var i=u.getImageData(0,0,o,c).data,s=0;s<c;s+=t)for(var f=0;f<o;f+=t){var d=4*(f+s*o),l=i[d],v=i[d+1],m=i[d+2];u.fillStyle=n(l,v,m),u.fillRect(f,s,t,t)}}(n,50)})},100),r.a.createElement("div",null,r.a.createElement("p",null,"Motion detector"),r.a.createElement(b,{className:w.a.canvas,onContext:f,mirrored:!0}),r.a.createElement(h,{onRef:o,hide:!0}))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports={canvas:"MotionDetector_canvas__kaFLH"}},9:function(e,t,n){e.exports=n(22)}},[[9,1,2]]]);
//# sourceMappingURL=main.95fd332b.chunk.js.map