(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},16:function(e,t,n){},17:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},18:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),i=(n(16),n(17),n(18),n(1)),u=n(2),s=n(5),l=n.n(s),f=n(7),d=n(3),m=n(8),v=n.n(m),b=void 0,g=function(e){var t=e.onRef,n=e.hide,o=Object(d.a)(e,["onRef","hide"]),c=Object(a.useRef)(),u=Object(a.useState)(!1),s=Object(i.a)(u,2),m=s[0],g=s[1],h=function(){var e=Object(f.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=4;break}throw t="Browser API navigator.mediaDevices.getUserMedia not available",b.setState({error_messages:t}),t;case 4:c.current.video.onloadedmetadata=function(){g(!0)};case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){h()},[c]),m&&t&&t(c),r.a.createElement(v.a,Object.assign({audio:!1,ref:c,screenshotFormat:"image/jpeg",style:{display:n?"none":"block"}},o))},h=function(e){var t=e.onContext,n=e.contextType,o=void 0===n?"2d":n,c=e.mirrored,i=Object(d.a)(e,["onContext","contextType","mirrored"]),u=Object(a.useRef)();return Object(a.useEffect)(function(){if(u&&t){var e=u.current.getContext(o);t(e)}},[u]),r.a.createElement("canvas",Object.assign({},i,{style:{transform:c?"scale(-1,1)":"scale(1)"},ref:u}))},j=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])},O=n(9),p=n.n(O),w=function(){var e=Object(u.useRangeKnob)("Pixel Size",{initialValue:50,min:10,max:200}),t=Object(i.a)(e,2),n=t[0],o=(t[1],Object(u.useRangeKnob)("Range",{initialValue:100,min:1,max:300})),c=Object(i.a)(o,2),s=c[0],l=(c[1],Object(u.useBooleanKnob)("Motion Detect Mode",!1)),f=Object(i.a)(l,2),d=f[0];f[1];Object(u.useLog)("Value",s),Object(u.useLog)("Pixel Size",n),Object(u.useLog)("Motion Detection",d);var m=Object(a.useState)(),v=Object(i.a)(m,2),b=v[0],O=v[1],w=Object(a.useState)(),x=Object(i.a)(w,2),E=x[0],M=x[1];return j(function(){b&&requestAnimationFrame(function(){return function(e,t){function n(e,t,n){return void 0==t&&(t=e),void 0==n&&(n=e),"rgb("+a(Math.round(e),0,255)+", "+a(Math.round(t),0,255)+", "+a(Math.round(n),0,255)+")"}function a(e,t,n){return Math.min(Math.max(e,Math.min(t,n)),Math.max(t,n))}var r=e.current.video,o=window.innerWidth,c=window.innerHeight;o=640,c=480,E.canvas.height=c,E.canvas.width=o,E.drawImage(r,0,0,o,c);for(var i=E.getImageData(0,0,o,c).data,u=0;u<c;u+=t)for(var s=0;s<o;s+=t){var l=4*(s+u*o),f=i[l],d=i[l+1],m=i[l+2];E.fillStyle=n(f,d,m),E.fillRect(s,u,t,t)}}(b,n)})},s),r.a.createElement("div",null,r.a.createElement("p",null,"Motion detector"),r.a.createElement(u.Inspector,{usePortal:!0}),r.a.createElement(h,{className:p.a.canvas,onContext:M,mirrored:!0}),r.a.createElement(g,{onRef:O,hide:!0}))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={canvas:"MotionDetector_canvas__kaFLH"}}},[[10,1,2]]]);
//# sourceMappingURL=main.857717cb.chunk.js.map